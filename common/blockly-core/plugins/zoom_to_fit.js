/*! For license information please see index.js.LICENSE.txt */
!function(t,o){if("object"==typeof exports&&"object"==typeof module)module.exports=o(require("blockly/core"));else if("function"==typeof define&&define.amd)define(["blockly/core"],o);else{var e="object"==typeof exports?o(require("blockly/core")):o(t.Blockly);for(var i in e)("object"==typeof exports?exports:t)[i]=e[i]}}(this,(t=>(()=>{"use strict";var o={573:o=>{o.exports=t}},e={};function i(t){var r=e[t];if(void 0!==r)return r.exports;var s=e[t]={exports:{}};return o[t](s,s.exports,i),s.exports}i.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return i.d(o,{a:o}),o},i.d=(t,o)=>{for(var e in o)i.o(o,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},i.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{i.r(r),i.d(r,{ZoomToFitControl:()=>s});var t=i(573);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,s=function(t,e){if("object"!==o(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===o(s)?s:String(s)),r)}var s}var s=function(){function o(t){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),this.workspace_=t,this.id="zoomToFit",this.svgGroup_=null,this.left_=0,this.top_=0,this.WIDTH_=32,this.HEIGHT_=32,this.MARGIN_VERTICAL_=20,this.MARGIN_HORIZONTAL_=20,this.initialized_=!1}var i,r;return i=o,(r=[{key:"init",value:function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[t.ComponentManager.Capability.POSITIONABLE]}),this.createDom_(),this.initialized_=!0,this.workspace_.resize()}},{key:"dispose",value:function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.onZoomToFitWrapper_&&t.unbindEvent_(this.onZoomToFitWrapper_)}},{key:"createDom_",value:function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.HEIGHT_+"px",width:this.WIDTH_+"px",class:"zoomToFit"}),this.svgGroup_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",n),t.utils.dom.insertAfter(this.svgGroup_,this.workspace_.getBubbleCanvas()),this.onZoomToFitWrapper_=t.browserEvents.conditionalBind(this.svgGroup_,"mousedown",null,this.onClick_.bind(this))}},{key:"onClick_",value:function(){this.workspace_.zoomToFit();var o=new(t.Events.get(t.Events.CLICK))(null,this.workspace_.id,"zoom_reset_control");t.Events.fire(o)}},{key:"getBoundingRectangle",value:function(){return new t.utils.Rect(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)}},{key:"position",value:function(o,e){if(this.initialized_){var i=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollHorizontally(),r=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollVertically();o.toolboxMetrics.position===t.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?(this.left_=o.absoluteMetrics.left+o.viewMetrics.width-this.WIDTH_-this.MARGIN_HORIZONTAL_,i&&!this.workspace_.RTL&&(this.left_-=t.Scrollbar.scrollbarThickness)):(this.left_=this.MARGIN_HORIZONTAL_,i&&this.workspace_.RTL&&(this.left_+=t.Scrollbar.scrollbarThickness));var s=o.toolboxMetrics.position!==t.TOOLBOX_AT_BOTTOM;s?(this.top_=o.absoluteMetrics.top+o.viewMetrics.height-this.HEIGHT_-this.MARGIN_VERTICAL_,r&&(this.top_-=t.Scrollbar.scrollbarThickness)):this.top_=o.absoluteMetrics.top+this.MARGIN_VERTICAL_;for(var n,l=this.getBoundingRectangle(),a=0;n=e[a];a++)l.intersects(n)&&(this.top_=s?n.top-this.HEIGHT_-this.MARGIN_VERTICAL_:n.bottom+this.MARGIN_VERTICAL_,l=this.getBoundingRectangle(),a=-1);this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}}])&&e(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),o}(),n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iIzU0NkU3QSI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTUgNi40Mkw4LjA5IDkuNSA5LjUgOC4wOSA2LjQxIDVIOVYzSDN2Nmgyem0xMC0zLjQxdjJoMi41N0wxNC41IDguMDlsMS40MSAxLjQxTDE5IDYuNDFWOWgyVjMuMDF6bTQgMTQuNTdsLTMuMDktMy4wOC0xLjQxIDEuNDFMMTcuNTkgMTlIMTV2Mmg2di02aC0yek04LjA5IDE0LjVMNSAxNy41OVYxNUgzdjZoNnYtMkg2LjQybDMuMDgtMy4wOXoiLz48L3N2Zz4=";t.Css.register(["\n  .zoomToFit {\n    opacity: .4;\n  }\n  .zoomToFit:hover {\n    opacity: .6;\n  }\n  .zoomToFit:active {\n    opacity: .8;\n  }\n"])})(),r})()));